"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),e=function(){return(e=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var u in e=arguments[r])Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t}).apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function r(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),u=0;for(e=0;e<r;e++)for(var a=arguments[e],i=0,o=a.length;i<o;i++,u++)n[u]=a[i];return n}var n,u,a={meta:["charset","name","property","http-equiv"],link:["rel","sizes","hreflang","href"]},i=function(t){return function(e){var r=a[t].concat("id").map((function(t){return e.hasOwnProperty(t)?{key:t,value:e[t]}:void 0})).filter(Boolean),n=Object.keys(e).map((function(t){return{key:t,value:e[t]}}));return{tag:t,query:r.length?r:n,attributes:e}}},o=i("meta"),c=i("link"),l=new Set,f=new Set,s=function(t){return Array.from(t).map((function(t){return t.current})).reduce((function(t,r){var n,u;return{title:null!==(n=r.title)&&void 0!==n?n:t.title,lang:null!==(u=r.lang)&&void 0!==u?u:t.lang,tags:e(e({},t.tags),r.tags)}}),{tags:{}})},p=function(t){f.forEach((function(e){return e(t)}))},g=function(){return s(l)},d=function(t){return Object.keys(t.tags||{}).map((function(e){return t.tags[e]}))},y=function(t,e){var r=e.reduce((function(t,e){var r=e.key,n=e.value;return t+"["+r+(n?'="'+n+'"':"")+"]"}),"");return document.head.querySelector(t+r)},v=function(t){var e,r,n=t.tag,u=t.query,a=t.attributes,i=y(n,u)||(e=n,r=document.createElement(e),document.head.appendChild(r),r);a&&Object.keys(a).forEach((function(t){i.setAttribute(t,a[t]||"")}))},m=function(t){var e=t.tag,r=t.query,n=y(e,r);n&&document.head.removeChild(n)},h={tags:{}},b=function(t,e){"undefined"!=typeof window&&(window.clearTimeout(n),n=setTimeout((function(){var e,r,n=function(t,e){return Object.keys(e.tags||{}).filter((function(e){return!t.tags[e]})).map((function(t){return e.tags[t]}))}(t,h),u=d(t);h=t,t.title&&(e=t.title,document.title=e),t.lang&&(r=t.lang,document.documentElement.lang=r),u.forEach(v),n.forEach(m)}),e))};u=function(t){return b(t,50)},f.add(u);var O=function(t){return r([t.title?"<title>"+t.title+"</title>":""],d(t).map((function(t){var e=t.attributes;return"<"+t.tag+" "+Object.keys(e).map((function(t){return""+t+(e[t]?'="'+(e[t]||"")+'"':"")})).join(" ")+" />"}))).join("")};exports.default=function(n,u){var a=t.useRef(),i=t.useMemo((function(){return function(t){var n=t.title,u=t.description,a=t.lang,i=t.charset,l=t.metas,f=void 0===l?[]:l,s=t.links,p=void 0===s?[]:s,g=t.openGraph,d=void 0===g?{}:g,y=t.twitter,v=void 0===y?{}:y;return{title:n,lang:a,tags:r([!!u&&{tag:"meta",query:[{key:"name",value:"description"}],attributes:{name:"description",content:u}},!!i&&{tag:"meta",query:[{key:"charset"}],attributes:{charset:i}}],f.map(o),p.map(c),Object.keys(d).map((function(t){return o({property:"og:"+t,content:d[t]})})),Object.keys(v).map((function(t){return o({property:"twitter:"+t,content:v[t]})}))).filter((function(t){return t&&t.query&&Object.keys(t.query).length})).reduce((function(t,r){var n,u=r.query.map((function(t){var e=t.key,r=void 0===e?"":e,n=t.value;return r+"="+(void 0===n?"":n)})).join("~"),a=r.tag+"_"+u;return e(e({},t),((n={})[a]=r,n))}),{})}}(n)}),u);t.useEffect((function(){return function(){a.current&&function(t){l.delete(t),p(s(l))}(a)}}),[]),a.current!==i&&(a.current=i,a.current&&function(t){!l.has(t)&&l.add(t),p(s(l))}(a))},exports.generateStaticHtml=function(){var t=g();return O(t)},exports.generateStaticHtmlHighPriority=function(){var t=g(),e=t.tags,r=t.title,n=Object.keys(e).filter((function(t){return t.startsWith("link_rel=preload~")})).reduce((function(t,r){var n;return Object.assign(t,((n={})[r]=e[r],n))}),{});return O({tags:n,title:r})},exports.generateStaticHtmlLowPriority=function(){var t=g(),r=t.tags,n=(t.title,function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(t);u<n.length;u++)e.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(t,n[u])&&(r[n[u]]=t[n[u]])}return r}(t,["tags","title"])),u=Object.keys(r).filter((function(t){return!t.startsWith("link_rel=preload~")})).reduce((function(t,e){var n;return Object.assign(t,((n={})[e]=r[e],n))}),{});return O(e(e({},n),{tags:u}))},exports.resetMetaTags=function(){l.clear(),p(s(l))};
//# sourceMappingURL=index.cjs.js.map
